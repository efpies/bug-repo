@page "/users"
@using System.Security.Claims
@using QoodenTask.Common
@using QoodenTask.Extensions

@attribute [Authorize(Roles = Roles.Admin)]
<AuthorizeView>
    <Authorized>
        <PageTitle>Users</PageTitle>
        
        <UsersData Role=@context.User.Claims.First(c => c.Type == ClaimsIdentity.DefaultRoleClaimType).Value
                         UserId=@context.User.GetIdFromClaims()></UsersData>
    </Authorized>
</AuthorizeView>